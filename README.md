#Проект - Бот поддержки Wallarm
##Версия 
0.1.2
##Использованная база данных:
	`MySQL`

##Переменные окружения:
* `TELEGRAM_TOKEN` - токен бота
* `DBADDR` - адрес базы данных
* `DBNAME` - название базы данных
* `DBUSER` - имя пользователя
* `DBPASS` - пароль пользователя

##Фунцкционал:

* Cбор статистики по:
	* Сообщениям
	* Тикетам
	* Пользователям
	* Чатам
* Два языка (русский и английский)
* Ограничение прав по чатам:
	* `client_chat` - доступ к статистике по себе (проверка состояния тикетов)
	* `internal` - доступ к статистике по всем клиентам (отчет за указанный день), рассылка сообщений
	* `admin` - `internal` + полный доступ к статистике (чаты, пользователи и проч), получение технических уведомлений
	* `testing` - `admin` + тестовые сообщения
* Ограничение прав по типам пользователя:
	*  `client` - доступ к статистике о себе и смене языка бота
	*  `wallarm` - доступ к отправке сообщений и отчетам
	*  `admin` - `wallarm` + доступ к изменению свойств чатов, тикетов, пользователей

##Описание команд:

###Клиентские команды (доступ не ограничивается):

* `/my_tickets` - данные по состоянию тикетов, информация по которым есть в базе данных
* `/language (ru|en)` - переключение языка чата
* `/start` - приветственное сообщение бота
* `/help` - сообщение с описанием возможностей бота

###Команды для сотрудников организации:

* `/report DD.MM.YYYY` - статистика за выбранный день по чатам
* `/give_tickets` - информация по всем активным тикетам
* `/(clean_chat|chat_clean)` - очистка текущего чата
* `/say_to_(wallarm|admin|en|ru) text` - написать сообщение во внутренние|админские|англоязычные|русскоязычные чаты

###Команды для администраторов (поддержки)

* `/give_(users|chats|tickets)` - информация по активным пользователям, чатам, тикетам
* `/give_(users|chats)_disabled` - информация по отключтенным пользователям, чатам
* `/give_tickets_resolved` - информация по закрытым тикетам
* `/set_(chat|user|ticket)` - задание определенных параметров для чатов, пользователей, тикетов:
  * Для пользователей, параметры: `[phone, username, name, type, enabled]`, пример: `/set_user userid type admin`
  * Для чатов, параметры: `[clientid, partnerid, client, language, type, enabled]`
  * Для тикетов, параметры: `[status, clientid, resolved]`
* `/delete_(chat|user) id` - отключение чатов, пользователей
* `/close_ticket id` - закрыть тикет
* `/add_(chat|ticket) id` или `/(chat|ticket)_add id` - добавить вручную новый чат, тикет






##Идеи для следующей версии:
* Ввести уведомление по не отвеченным чатам в течение 15 минут
* Расширить список атакующих векторов для атак
* Интеграция с jira (формирование отчетов по открытым/закрытым тикетам на SRV, слежение за тикетами SRV по клиентам)
* В больших глобальных планах интеграция с нашей системой


